CC = pgcc
CFLAGS = -Minform=inform -Mpreprocess -fast

all: main_serial main_omp main_omp_v2 main_acc

main_serial: main_serial.c
	$(CC) $(CFLAGS) $^ -o $@ -lm

main_omp: main_omp.c
	$(CC) $(CFLAGS) -mp -Minfo=mp $^ -o $@ -lm

main_omp_v2: main_omp_v2.c
	$(CC) $(CFLAGS) -mp -Minfo=mp $^ -o $@ -lm

main_acc: main_acc.c
	$(CC) $(CFLAGS) -acc -Minfo=acc -Minline=rand_r $^ -o $@ -lm

clean:
	rm -f main_serial main_omp main_omp_v2 main_acc
